┌─────────────────────────────────────────────────────────────────┐
│                         USER QUERY                               │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                    API Layer (FastAPI)                           │
│  - File upload handling                                          │
│  - Query validation                                              │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                  Agent Orchestrator (LangGraph)                  │
│                                                                   │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │   Planner   │ →  │  Executor   │ →  │ Synthesizer │         │
│  │    Node     │    │    Node     │    │    Node     │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│                            ↓                                     │
│                      ┌──────────┐                                │
│                      │  Tools   │                                │
│                      └──────────┘                                │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│              Search Orchestrator (3-Tier Strategy)               │
│                                                                   │
│  Tier 1: Index Search (0.01s) ───┐                              │
│           ↓ (95% queries)         │                              │
│       ✓ Found → Return            │                              │
│                                   │                              │
│  Tier 2: Ripgrep Search (1-3s) ──┤                              │
│           ↓ (4% queries)          │                              │
│       ✓ Found → Return            │                              │
│                                   │                              │
│  Tier 3: Pandas Fallback (30s) ──┘                              │
│           ↓ (1% queries)                                         │
│       ✓ Found → Return                                           │
└─────────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────────┐
│                      Data Layer                                  │
│                                                                   │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │
│  │   Inverted   │  │  Searchable  │  │   Original   │          │
│  │    Index     │  │     CSVs     │  │    Excel     │          │
│  │   (cache/)   │  │(searchable/) │  │  (uploads/)  │          │
│  └──────────────┘  └──────────────┘  └──────────────┘          │
└─────────────────────────────────────────────────────────────────┘